marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv")
marzax
marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv",header=T)
marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv",header=F)
head(marzax)
marzX <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_X.csv",header=F)
marzmoist <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_moisture.csv",header=F)
marzsugar <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_sugar.csv",header=F)
head(marzax)
marzax <- seq(450,2448,2)
#marzdf <- data.frame(ax=marzax,X=as.matrix(marzX),Y=)
Y <- cbind(marzmoist,marzsugar)
colnames(Y) <- c("moisture","sugar")
marzipan <- data.frame(ax=marzax,X=as.matrix(marzX),Y=Y)
marzipan <- list(ax=marzax, X=as.matrix(marzX),Y=as.matrix(Y))
marzipan$ax
class(marzipan$ax)
class(marzipan$X)
class(marzipan$Y)
save(marzipan, file = "C:/Users/c1g/Documents/R/PSNV Project/PSNV/data/marzipan.rda")
data(marzipan)
marzid <- c(paste("a",c(1:5),sep=""), paste("b",c(1:4),sep=""), paste("c",c(1:4),sep=""),
paste("d",c(1:4),sep=""), paste("e",c(1:3),sep=""), paste("f",c(1:3),sep=""),
paste("g",c(1:2),sep=""), paste("h",c(1:3),sep=""), paste("i",c(1:4),sep=""))
marzX <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_X.csv",header=F)
marzmoist <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_moisture.csv",header=F)
marzsugar <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_sugar.csv",header=F)
marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv",header=F)
marzX <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_X.csv",header=F)
marzmoist <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_moisture.csv",header=F)
marzsugar <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_sugar.csv",header=F)
marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv",header=F)
Y <- cbind(marzmoist,marzsugar)
colnames(Y) <- c("moisture","sugar")
marzid <- c(paste("a",c(1:5),sep=""), paste("b",c(1:4),sep=""), paste("c",c(1:4),sep=""),
paste("d",c(1:4),sep=""), paste("e",c(1:3),sep=""), paste("f",c(1:3),sep=""),
paste("g",c(1:2),sep=""), paste("h",c(1:3),sep=""), paste("i",c(1:4),sep=""))
marzipan <- list(ax=marzax, X=as.matrix(marzX),Y=as.matrix(Y),recipe=as.factor(marzid))
save(marzipan, file = "C:/Users/c1g/Documents/R/PSNV Project/PSNV/data/marzipan.rda")
data(marzipan)
marzipan$recipe
recipe <- c(paste("a",c(1:5),sep=""), paste("b",c(1:4),sep=""), paste("c",c(1:4),sep=""),paste("d",c(1:4),sep=""), paste("e",c(1:3),sep=""), paste("f",c(1:3),sep=""),
+             paste("g",c(1:2),sep=""), paste("h",c(1:3),sep=""), paste("i",c(1:4),sep=""))
recipe <- c(rep("a",5), rep("b",4), rep("c",4),
rep("d",4), rep("e",3), rep("f",3),
rep("g",2), rep("h",3), rep("i",4))
recipe
marzipan <- list(ax=marzax, X=as.matrix(marzX),Y=as.matrix(Y),recipe=as.factor(recipe))
save(marzipan, file = "C:/Users/c1g/Documents/R/PSNV Project/PSNV/data/marzipan.rda")
data(marzipan)
marzipan$recipe
?predict
mdatools::selratio
if(missing(r)){r <- colMeans(X)}
set.seed(1743)
tmp <- matrix(rnorm(10000*1000),nrow=10000,ncol=1000)
require(pls)
system.time(fastmsc(tmp,colMeans(tmp)))
source("~/R/PSNV Project/PSNV/R/fastmsc.R")
system.time(fastmsc(tmp,colMeans(tmp)))
system.time(fastmsc(tmp,colMeans(tmp)))
require(pls)
ref <- colMeans(tmp)
system.time(fastmsc(tmp,ref))
system.time(msc(tmp,ref))
msc
source("~/R/PSNV Project/PSNV/R/fastmsc.R")
system.time(fastmsc(tmp,ref))
set.seed(1743)
tmp <- matrix(rnorm(1000000*1000),nrow=1000000,ncol=1000)
gc(verbose=T)
set.seed(1743)
tmp <- matrix(rnorm(100000*1000),nrow=100000,ncol=1000)
ref <- colMeans(tmp)
system.time(fastmsc(tmp,colMeans(tmp)))
system.time(fastmsc(tmp,ref))
system.time(msc(tmp,ref))
system.time(for(i in 1:10){msc(tmp,ref)})
system.time(for(i in 1:10){fastmsc(tmp,ref)})
source("~/R/PSNV Project/PSNV/R/fastmsc.R")
system.time(for(i in 1:10){fastmsc(tmp,ref)})
dim(cbind(1,ref))
source("~/R/PSNV Project/PSNV/R/fastmsc.R")
system.time(for(i in 1:10){fastmsc(tmp,ref)})
system.time(for(i in 1:10){pmsc(tmp,101,ref)})
source("~/R/PSNV Project/PSNV/R/pmsc.R")
system.time(for(i in 1:10){pmsc(tmp,101,ref)})
system.time(pmsc(tmp,101,ref))
set.seed(1743)
tmp <- matrix(rnorm(1000*1000),nrow=1000,ncol=1000)
ref <- colMeans(tmp)
system.time(pmsc(tmp,101,ref))
system.time(pmsc2(tmp,101,ref))
source("~/R/PSNV Project/PSNV/R/pmsc2.R")
system.time(pmsc2(tmp,101,ref))
system.time(pmsc(tmp,101,ref))
system.time(pmsc2(tmp,101,ref))
set.seed(1743)
tmp <- matrix(rnorm(10000*1000),nrow=10000,ncol=1000)
ref <- colMeans(tmp)
system.time(pmsc(tmp,101,ref))
system.time(pmsc2(tmp,101,ref))
dim(crossprod(tmp))
dim(t(tmp)%*%tmp)
system.time(crossprod(tmp))
system.time(t(tmp)%*%tmp)
msc
dim(cbind(1,colMeans(tmp)))
MSC <- function (X, reference = NULL){
if (is.null(reference))
reference <- colMeans(X)
Z <- cbind(1, reference)
B <- t(solve(crossprod(Z), t(X %*% Z)))
res <- (X - B[, 1])/B[, 2]
}
source("~/R/PSNV Project/PSNV/R/MSC.R")
ref <- colMeans(marzipan$X)
X.msc <- MSC(marzipan$X,ref) #PMSC with window size of 101 channels
matplot(marzipan$ax,t(X.msc),type="l",lty=1)
dim(t(X.msc))
marzipan$ax
matplot(as.vector(marzipan$ax),t(X.msc),type="l",lty=1)
source("~/R/PSNV Project/PSNV/R/psnv.R")
source("~/R/PSNV Project/PSNV/R/pmsc.R")
source("~/R/PSNV Project/PSNV/R/lsnv.R")
source("~/R/PSNV Project/PSNV/R/lmsc.R")
data(marzipan)
X.psnv <- psnv(marzipan$X,101) #PSNV with window size of 101 channels
#' data(marzipan)
ref <- colMeans(marzipan$X)
X.pmsc <- pmsc(marzipan$X,101,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
ref <- colMeans(marzipan$X)
X.msc <- MSC(marzipan$X,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.msc),type="l",lty=1)
#' data(marzipan)
ref <- colMeans(marzipan$X)
X.pmsc <- pmsc(marzipan$X,101,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
source("~/R/PSNV Project/PSNV/R/pmsc.R")
X.pmsc <- pmsc(marzipan$X,101,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
#' data(marzipan)
ref <- colMeans(marzipan$X)
X.pmsc <- pmsc(marzipan$X,101,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
source("~/R/PSNV Project/PSNV/R/pmsc.R")
ref <- colMeans(marzipan$X)
X.pmsc <- pmsc(marzipan$X,201,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
data(marzipan)
X.lsnv <- lsnv(marzipan$X,5) #LSNV with 5 segments
matplot(as.vector(marzipan$ax),t(X.lsnv),type="l",lty=1)
data(marzipan)
ref <- colMeans(marzipan$X)
X.lmsc <- lmsc(marzipan$X,5,ref) #LMSC with 5 segments
source("~/R/PSNV Project/PSNV/R/lmsc.R")
data(marzipan)
ref <- colMeans(marzipan$X)
X.lmsc <- lmsc(marzipan$X,5,ref) #LMSC with 5 segments
matplot(as.vector(marzipan$ax),t(X.lmsc),type="l",lty=1)
matplot(as.vector(marzipan$ax),t(X.lsnv),type="l",lty=1)
source("~/R/PSNV Project/PSNV/R/MSC.R")
require(Rcpp)
require(PSNV)
data(marzipan)
PSNV::psnv
marzX <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_X.csv",header=F)
marzmoist <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_moisture.csv",header=F)
marzsugar <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_sugar.csv",header=F)
marzax <- read.csv("C:/Users/c1g/Documents/R/PSNV Project/Marzipan_ax.csv",header=F)
Y <- cbind(marzmoist,marzsugar)
colnames(Y) <- c("moisture","sugar")
# marzid <- c(paste("a",c(1:5),sep=""), paste("b",c(1:4),sep=""), paste("c",c(1:4),sep=""),
#             paste("d",c(1:4),sep=""), paste("e",c(1:3),sep=""), paste("f",c(1:3),sep=""),
#             paste("g",c(1:2),sep=""), paste("h",c(1:3),sep=""), paste("i",c(1:4),sep=""))
recipe <- c(rep("a",5), rep("b",4), rep("c",4),
rep("d",4), rep("e",3), rep("f",3),
rep("g",2), rep("h",3), rep("i",4))
marzipan <- list(ax=marzax, X=as.matrix(marzX),Y=as.matrix(Y),recipe=as.factor(recipe))
data(marzipan)
ref <- colMeans(marzipan$X)
X.msc <- MSC(marzipan$X,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.msc),type="l",lty=1)
ref <- colMeans(marzipan$X)
X.pmsc <- pmsc(marzipan$X,201,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.pmsc),type="l",lty=1)
data(marzipan)
X.lsnv <- lsnv(marzipan$X,5) #LSNV with 5 segments
matplot(as.vector(marzipan$ax),t(X.lsnv),type="l",lty=1)
data(marzipan)
ref <- colMeans(marzipan$X)
X.lmsc <- lmsc(marzipan$X,5,ref) #LMSC with 5 segments
matplot(as.vector(marzipan$ax),t(X.lmsc),type="l",lty=1)
data(marzipan)
X.psnv <- psnv(marzipan$X,201) #PSNV with window size of 101 channels
Rcpp::compileAttributes("PSNV")
Rcpp::compileAttributes(pkgdir="PSNV")
#Rcpp::compileAttributes(pkgdir="PSNV")
getwd()
Rcpp::compileAttributes(pkgdir="C:/Users/c1g/Documents/R/PSNV Project/PSNV")
ans <- Rcpp::compileAttributes(pkgdir="C:/Users/c1g/Documents/R/PSNV Project/PSNV")
ans
data(marzipan)
ref <- colMeans(marzipan$X)
X.msc <- MSC(marzipan$X,ref) #PMSC with window size of 101 channels
matplot(as.vector(marzipan$ax),t(X.msc),type="l",lty=1)
data(marzipan)
X.psnv <- psnv(marzipan$X,201) #PSNV with window size of 101 channels
PSNV:::movmeanandstd()
PSNV:::movmeanandstd
PSNV:::movmeanandstd(marzipan$X,201)
Rcpp::compileAttributes(pkgdir="C:/Users/c1g/Documents/R/PSNV Project/PSNV")
package_path <- system.file("src", package = "PSNV")
package_path <- system.file("src", package = "C:/Users/c1g/Documents/R/PSNV Project/PSNVPSNV")
package_path <- system.file("src", package = "C:/Users/c1g/Documents/R/PSNV Project/PSNV")
cpp_files <- list.files(package_path, pattern = "\\.cpp$", full.names = TRUE)
list.files(package_path)
library(tools)
package_source_files <- packageSource("Ligma")
package_source_files <- packageSource("PSNV")
movmeanandstd
getNamespaceExports("PSNV")
ls(getNamespace("PSNV"))
?lmsc
PSNV::lmsc
find.package("pkg")
find.package("PSNV")
.libPaths("PSNV")
.libPaths()
R.home()
movmean(marzipan$X,10)
0
devtools::install(lib = "C:/Users/c1g/Documents/R/win-library/4.4")
require(devtools)
find.package("PSNV")
getwd()
.libPaths()
.libPaths("C:/Users/c1g/AppData/Local/R/win-library/4.4/PSNV")
.libPaths("C:/Users/c1g/Documents/R/PSNV Project/PSNV")
getNamespaceExports("PSNV")
getNamespaceExports("PSNV")
getNamespaceExports("PSNV")
PSNV::marzipan
getNamespaceExports("PSNV")
funcpp
getNamespaceInfo("PSNV", "exports")
getNamespaceExports("PSNV")
ls(getNamespace("pkg"))
ls(getNamespace("PSNV"))
ls(getNamespace("PSNV"))
Rcpp::compileAttributes()
ls(getNamespace("PSNV"))
.libPaths("C:/Users/c1g/Documents/R/PSNV Project/")
ls(getNamespace("PSNV"))
load("~/R/.RData")
Rcpp.package.skeleton("skeletor")
require(Rcpp)
Rcpp.package.skeleton("skeletor")
getwd()
getwd()
q()
q()
